{"ast":null,"code":"var _jsxFileName = \"/home/logan/picoehr/src/pages/VisitRegSetup.js\";\nimport React, { useState, useRef } from \"react\";\nimport Topbar from \"../components/Topbar/Topbar\";\nimport FormWithSection from \"../components/Form/FormWithSection/FormWithSection\";\nimport FormSection from \"../components/Form/FormWithSection/FormSection\";\nimport FormControl from \"../components/Form/FormControl/FormControl\";\nimport FormFooter from \"../components/Form/FormFooter/FormFooter\";\nimport Button from \"../components/Form/Button/Button\";\nimport DataList from \"../components/Form/Input/DataList\";\nimport PersonalInformationForm from \"../share/PersonalInformationForm\";\nimport validate from \"../validate/VisitRegSetupValidate\"; // import Axios from \"../share/Axios\";\n// import Spinner from \"../share/Spinner/Spinner\";\n\nfunction createSelectData(optionValue, optionText) {\n  return {\n    optionValue,\n    optionText\n  };\n} //Sample Data for Select Input\n\n\nconst selectSampleData = [createSelectData(\"1\", \"description 1\"), createSelectData(\"2\", \"description 2\"), createSelectData(\"3\", \"description 3\"), createSelectData(\"4\", \"description 4\"), createSelectData(\"5\", \"description 5\")]; //Sample Data for Datalist Input\n\nconst dataListSampleData = [\"Dr. Shwe Yi\", \"Dr. Mya Theingi\", \"Dr. Park Soon Ri\", \"Dr. William Smith\", \"Dr. Hsu Wai Khet Khaing\", \"Dr. Min Min Soe\", \"Dr. Khin Hinn Wai\", \"Dr. Aung Ko Khant\"];\n\nconst VisitRegSetup = () => {\n  console.log(\"visit setup\");\n  const [information, setInformation] = useState({\n    id: \"\",\n    nrc: \"\",\n    name: \"\",\n    fatherName: \"\",\n    gender: \"\",\n    maritalStatus: \"\",\n    age: \"\",\n    dateOfBirth: \"\",\n    placeOfBirth: \"\"\n  });\n  const [errors, setErrors] = useState({}); // const [loading, setLoading] = useState(false);\n  // const [alert, setAlert] = useState({\n  //   success: \"\",\n  //   error: \"\",\n  // });\n\n  const [doctors, setDoctors] = useState(\"\");\n  const doctorDataListRef = useRef();\n  const doctorTextAreaRef = useRef();\n\n  const addDoctors = () => {\n    if (doctors === \"\") {\n      setDoctors(doctorDataListRef.current.value);\n      doctorDataListRef.current.value = \"\";\n    } else {\n      setDoctors(doctors + \", \" + doctorDataListRef.current.value);\n      doctorDataListRef.current.value = \"\";\n    }\n  }; //doctors list textarea onChange\n\n\n  const updateDoctors = e => {\n    console.log(doctorTextAreaRef.current.value);\n    setDoctors(doctorTextAreaRef.current.value);\n  }; //handle on change input\n\n\n  const handleOnChange = e => {\n    e.persist(); //current element\n\n    const target = e.target; //current element's name attribute\n\n    const name = target.name; //current element's value attribute (if checkbox, checked or not)\n\n    const value = target.value; //put to information\n\n    setInformation(information => ({ ...information,\n      [name]: value\n    })); // check validation for current element\n\n    let error = validate(target, true); //update errors's current element\n\n    setErrors(errors => ({ ...errors,\n      [name]: error\n    }));\n  }; // handle on submit\n\n\n  const handleOnSaveVR = e => {\n    e.preventDefault(); //check validation for all information\n\n    let validatedErrors = validate(information); //push errors\n\n    setErrors(validatedErrors); //console.log(Object.values(validatedErrors));\n    //if no error\n\n    if (Object.values(validatedErrors).filter(value => value.length > 1).length === 0) {\n      console.log(\"no error\");\n      console.log(information);\n      console.log(doctors); // setLoading(true);\n      // //push to api\n      // Axios.post(\"/visitRegistration\", information)\n      //   .then((res) => {\n      //     //loading to false\n      //     setLoading(false);\n      //     // set success alert and clear error alert\n      //     setAlert({\n      //       success: res.success,\n      //       error: \"\",\n      //     });\n      //     //clear errors\n      //     //\n      //   })\n      //   .catch((err) => {\n      //     //loading to false\n      //     setLoading(false);\n      //     // set error alert and clear success alert\n      //     setAlert({\n      //       success: \"\",\n      //       error: err.message,\n      //     });\n      //   });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Topbar, {\n    pageTitle: \"Visit Registration Setup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-4 px-4 lg:px-0 w-full lg:w-4/5 xl:w-2/3 m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormWithSection, {\n    action: \"\",\n    onSubmit: handleOnSaveVR,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PersonalInformationForm, {\n    information: information,\n    handleOnChange: handleOnChange,\n    selectSampleData: selectSampleData,\n    errors: errors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FormSection, {\n    sectionTitle: \"Doctor Information\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DataList, {\n    labelText: \"Doctors\",\n    placeholder: \"Select Doctors\",\n    dataList: dataListSampleData,\n    doctors: doctors,\n    doctorDataListRef: doctorDataListRef,\n    doctorTextAreaRef: doctorTextAreaRef,\n    addDoctors: addDoctors,\n    updateDoctors: updateDoctors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(FormFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"ml-2\",\n    type: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, \"Save\")))));\n};\n\nexport default VisitRegSetup;","map":{"version":3,"sources":["/home/logan/picoehr/src/pages/VisitRegSetup.js"],"names":["React","useState","useRef","Topbar","FormWithSection","FormSection","FormControl","FormFooter","Button","DataList","PersonalInformationForm","validate","createSelectData","optionValue","optionText","selectSampleData","dataListSampleData","VisitRegSetup","console","log","information","setInformation","id","nrc","name","fatherName","gender","maritalStatus","age","dateOfBirth","placeOfBirth","errors","setErrors","doctors","setDoctors","doctorDataListRef","doctorTextAreaRef","addDoctors","current","value","updateDoctors","e","handleOnChange","persist","target","error","handleOnSaveVR","preventDefault","validatedErrors","Object","values","filter","length"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\nimport Topbar from \"../components/Topbar/Topbar\";\nimport FormWithSection from \"../components/Form/FormWithSection/FormWithSection\";\nimport FormSection from \"../components/Form/FormWithSection/FormSection\";\nimport FormControl from \"../components/Form/FormControl/FormControl\";\nimport FormFooter from \"../components/Form/FormFooter/FormFooter\";\nimport Button from \"../components/Form/Button/Button\";\nimport DataList from \"../components/Form/Input/DataList\";\nimport PersonalInformationForm from \"../share/PersonalInformationForm\";\nimport validate from \"../validate/VisitRegSetupValidate\";\n// import Axios from \"../share/Axios\";\n// import Spinner from \"../share/Spinner/Spinner\";\n\nfunction createSelectData(optionValue, optionText) {\n  return { optionValue, optionText };\n}\n\n//Sample Data for Select Input\nconst selectSampleData = [\n  createSelectData(\"1\", \"description 1\"),\n  createSelectData(\"2\", \"description 2\"),\n  createSelectData(\"3\", \"description 3\"),\n  createSelectData(\"4\", \"description 4\"),\n  createSelectData(\"5\", \"description 5\"),\n];\n\n//Sample Data for Datalist Input\nconst dataListSampleData = [\n  \"Dr. Shwe Yi\",\n  \"Dr. Mya Theingi\",\n  \"Dr. Park Soon Ri\",\n  \"Dr. William Smith\",\n  \"Dr. Hsu Wai Khet Khaing\",\n  \"Dr. Min Min Soe\",\n  \"Dr. Khin Hinn Wai\",\n  \"Dr. Aung Ko Khant\",\n];\n\nconst VisitRegSetup = () => {\n  console.log(\"visit setup\");\n  const [information, setInformation] = useState({\n    id: \"\",\n    nrc: \"\",\n    name: \"\",\n    fatherName: \"\",\n    gender: \"\",\n    maritalStatus: \"\",\n    age: \"\",\n    dateOfBirth: \"\",\n    placeOfBirth: \"\",\n  });\n  const [errors, setErrors] = useState({});\n  // const [loading, setLoading] = useState(false);\n  // const [alert, setAlert] = useState({\n  //   success: \"\",\n  //   error: \"\",\n  // });\n\n  const [doctors, setDoctors] = useState(\"\");\n  const doctorDataListRef = useRef();\n  const doctorTextAreaRef = useRef();\n  const addDoctors = () => {\n    if (doctors === \"\") {\n      setDoctors(doctorDataListRef.current.value);\n      doctorDataListRef.current.value = \"\";\n    } else {\n      setDoctors(doctors + \", \" + doctorDataListRef.current.value);\n      doctorDataListRef.current.value = \"\";\n    }\n  };\n  //doctors list textarea onChange\n  const updateDoctors = (e) => {\n    console.log(doctorTextAreaRef.current.value);\n    setDoctors(doctorTextAreaRef.current.value);\n  };\n\n  //handle on change input\n  const handleOnChange = (e) => {\n    e.persist();\n    //current element\n    const target = e.target;\n    //current element's name attribute\n    const name = target.name;\n    //current element's value attribute (if checkbox, checked or not)\n    const value = target.value;\n    //put to information\n    setInformation((information) => ({\n      ...information,\n      [name]: value,\n    }));\n    // check validation for current element\n    let error = validate(target, true);\n    //update errors's current element\n    setErrors((errors) => ({\n      ...errors,\n      [name]: error,\n    }));\n  };\n  // handle on submit\n  const handleOnSaveVR = (e) => {\n    e.preventDefault();\n    //check validation for all information\n    let validatedErrors = validate(information);\n    //push errors\n    setErrors(validatedErrors);\n    //console.log(Object.values(validatedErrors));\n    //if no error\n    if (\n      Object.values(validatedErrors).filter((value) => value.length > 1)\n        .length === 0\n    ) {\n      console.log(\"no error\");\n      console.log(information);\n      console.log(doctors);\n      // setLoading(true);\n      // //push to api\n      // Axios.post(\"/visitRegistration\", information)\n      //   .then((res) => {\n      //     //loading to false\n      //     setLoading(false);\n      //     // set success alert and clear error alert\n      //     setAlert({\n      //       success: res.success,\n      //       error: \"\",\n      //     });\n      //     //clear errors\n      //     //\n      //   })\n      //   .catch((err) => {\n      //     //loading to false\n      //     setLoading(false);\n      //     // set error alert and clear success alert\n      //     setAlert({\n      //       success: \"\",\n      //       error: err.message,\n      //     });\n      //   });\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <Topbar pageTitle=\"Visit Registration Setup\" />\n      <div className=\"my-4 px-4 lg:px-0 w-full lg:w-4/5 xl:w-2/3 m-auto\">\n        <FormWithSection action=\"\" onSubmit={handleOnSaveVR}>\n          <PersonalInformationForm\n            information={information}\n            handleOnChange={handleOnChange}\n            selectSampleData={selectSampleData}\n            errors={errors}\n          />\n          <FormSection sectionTitle=\"Doctor Information\">\n            <FormControl>\n              <DataList\n                labelText=\"Doctors\"\n                placeholder=\"Select Doctors\"\n                dataList={dataListSampleData}\n                doctors={doctors}\n                doctorDataListRef={doctorDataListRef}\n                doctorTextAreaRef={doctorTextAreaRef}\n                addDoctors={addDoctors}\n                updateDoctors={updateDoctors}\n              />\n            </FormControl>\n          </FormSection>\n          <FormFooter>\n            <Button className=\"ml-2\" type=\"\">\n              Save\n            </Button>\n          </FormFooter>\n        </FormWithSection>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default VisitRegSetup;\n"]},"metadata":{},"sourceType":"module"}